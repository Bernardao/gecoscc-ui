{% extends "base_tree.jinja2" %}

{% block moreheader %}
<style>
    ul.permissions {
        margin: 0;
        padding: 0;
    }

    ul.permissions li {
        display: inline-block;
        padding-right: 15px;
    }
</style>
{% endblock %}

{% block breadcrumb %}
<li><a href="/">Inicio</a></li>
<li class="active">Unidades Organizativas</li>
{% endblock %}

{% block main_content %}
<div class="row">
    <!-- Nav tabs -->
    <ul class="nav nav-tabs">
        <li class="active"><a href="#info" data-toggle="tab">Información</a></li>
        <li><a href="#policies" data-toggle="tab">Políticas</a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane fade in active" id="info">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="text-muted bootstrap-admin-box-title">Unidad Organizativa</div>
                </div>
                <div class="bootstrap-admin-panel-content dashboard">
                    <form role="form">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="name">Nombre</label>
                                    <input id="name" type="text" class="form-control" placeholder="Ej: Departamento de Testing">
                                </div>
                            </div>
                        </div>
                        <div class="row bootstrap-admin-light-padding-bottom">
                            <div class="col-sm-4">
                                <label>Permisos:</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="permission-filter" placeholder="Filtra">
                                    <span class="input-group-btn">
                                        <button class="btn btn-primary" id="permission-filter-btn" type="button"><span class="fa fa-search"></span></button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row"><div class="col-sm-12">
                            <div class="well"><ul class="permissions">
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm0" value="option1"> Lorem
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm1" value="option1"> Ipsum
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm2" value="option1"> Dolor
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm3" value="option1"> Sit amet
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm4" value="option1"> Consectetur
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm5" value="option1"> Adipiscing
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm6" value="option1"> Elit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm7" value="option1"> Etiam
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm8" value="option1"> Hendrerit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm9" value="option1"> Scelerisque
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm10" value="option1"> Lorem
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm11" value="option1"> Ipsum
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm12" value="option1"> Dolor
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm13" value="option1"> Sit amet
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm14" value="option1"> Consectetur
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm15" value="option1"> Adipiscing
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm16" value="option1"> Elit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm17" value="option1"> Etiam
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm18" value="option1"> Hendrerit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm19" value="option1"> Scelerisque
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm20" value="option1"> Lorem
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm21" value="option1"> Ipsum
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm22" value="option1"> Dolor
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm23" value="option1"> Sit amet
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm24" value="option1"> Consectetur
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm25" value="option1"> Adipiscing
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm26" value="option1"> Elit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm27" value="option1"> Etiam
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm28" value="option1"> Hendrerit
                                </label></li>
                                <li><label class="permission checkbox-inline">
                                    <input type="checkbox" id="perm29" value="option1"> Scelerisque
                                </label></li>
                            </ul></div>
                        </div></div>
                        <div class="row"><div class="col-sm-12">
                            <a href="/" class="btn btn-default">Cancelar</a>
                            <button type="submit" class="btn btn-primary">Guardar</button>
                        </div></div>
                    </form>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="policies">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="text-muted bootstrap-admin-box-title">Políticas</div>
                </div>
                <div class="bootstrap-admin-panel-content">
                    <table class="table table-striped table-bordered" id="policies-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="odd gradeX">
                                <td>Trident</td>
                                <td>Internet Explorer 4.0</td>
                            </tr>
                            <tr class="even gradeC">
                                <td>Trident</td>
                                <td>Internet Explorer 5.0</td>
                            </tr>
                            <tr class="odd gradeA">
                                <td>Trident</td>
                                <td>Internet Explorer 5.5</td>
                            </tr>
                            <tr class="even gradeA">
                                <td>Trident</td>
                                <td>Internet Explorer 6</td>
                            </tr>
                            <tr class="odd gradeA">
                                <td>Trident</td>
                                <td>Internet Explorer 7</td>
                            </tr>
                            <tr class="even gradeA">
                                <td>Trident</td>
                                <td>AOL browser (AOL desktop)</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Firefox 1.0</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Firefox 1.5</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Firefox 2.0</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Firefox 3.0</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Camino 1.0</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Camino 1.5</td>
                            </tr>
                            <tr class="gradeA">
                                <td>Gecko</td>
                                <td>Netscape 7.2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block morejs %}
<script src="{{request.application_url}}/static/js/libs/jquery.dataTables-1.9.4.min.js"></script>
<script src="{{request.application_url}}/static/js/libs/DT_bootstrap.min.js"></script>

<script>
    $(document).ready(function () {
        setTimeout(function () {
            $($(".tree-item-name")[1]).trigger("click");
        }, 1000);

        var permissionFilter = function (filter) {
            $("label.permission").each(function (index, label) {
                var $label = $(label),
                    filterReady = filter.trim().toLowerCase(),
                    text = $label.text().trim().toLowerCase();
                if (filterReady.length === 0 || text.indexOf(filterReady) >= 0) {
                    $label.parent().show();
                } else {
                    $label.parent().hide();
                }
            });
        };

        $("#permission-filter").on("keyup", function (evt) {
            permissionFilter($(evt.target).val());
        });
        $("#permission-filter-btn").on("click", function (evt) {
            permissionFilter($(evt.target).parents('div.input-group').find("input").val());
        });

        /* Table initialisation */
        $('#policies-table').dataTable({
            "sDom": "<'row'<'col-md-8'l><'col-md-4'f>r>t<'row'<'col-md-8'i><'col-md-4'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ registros por página",
                "oAria": {
                    "sSortAscending": ": activar para odernar ascendentemente la columna",
                    "sSortDescending": ": activar para odernar descendentemente la columna"
                },
                "oPaginate": {
                    "sFirst": "Primero",
                    "sLast": "Último",
                    "sPrevious": "Anterior",
                    "sNext": "Siguiente"
                },
                "sEmptyTable": "No hay datos disponibles en la tabla",
                "sInfo": "Mostrando de _START_ a _END_ de _TOTAL_ registros",
                "sInfoEmpty": "Mostrando de 0 a 0 de 0 registros",
                "sInfoFiltered": "(filtrados de un total de _MAX_ registros)",
                // "sInfoPostFix": "All records shown are derived from real information.",
                // "sInfoThousands": ",",
                "sLoadingRecords": "Cargando...",
                "sProcessing": "Procesando...",
                "sSearch": "Buscar:",
                // "sUrl": "http://www.sprymedia.co.uk/dataTables/lang.txt",
                "sZeroRecords": "Ningún registro que encaje encontrado"
            }
        });
    });
</script>
{% endblock %}
